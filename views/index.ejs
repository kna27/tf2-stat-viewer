<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0" />
    <meta name="description" content="View your personal TF2 stats">
    <title>TF2 Stats</title>
    <link rel="stylesheet" type="text/css" href="/style.css">
    <link rel="icon" type="image/png" href="/icon.png" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.4.1/dist/chart.min.js"></script>
</head>

<body>
    <div class="content">
        <h1><a href="/home">TF2 Stat Viewer</a></h1>
        <h2>View your personal TF2 stats</h2>
        <p>
            <%= typeof msg !='undefined' ? msg : '' %>
        </p>
        <form>
            <input type="text" id="steamid" name="steamid" placeholder="Enter your Steam name or Steam64 ID">
            <button type="submit" id="submit"
                onclick="window.location = window.origin + '/profile/' + steamid.value; return false;">Submit</button>
        </form>
        <br>
        <div style="display:<%= typeof playerStats == 'undefined' ? 'none' : 'block' %>" id="statsDiv">
            <h1>Overview</h1>
            <h2>Class Playtime</h2>
            <canvas id="playtimeChart" width="600" height="600"></canvas>
            <h2>Collective Statis</h2>
            <div id="numericalStats">
                <div class="numericalStat">
                    <h1 id="numericalStat_Kills"></h1>
                    <h2>Kills</h2>
                </div>
                <div class="numericalStat">
                    <h1 id="numericalStat_KillAssists"></h1>
                    <h2>Kill Assists</h2>
                </div>
                <div class="numericalStat">
                    <h1 id="numericalStat_DamageDealt"></h1>
                    <h2>Damage Dealt</h2>
                </div>
                <div class="numericalStat">
                    <h1 id="numericalStat_Dominations"></h1>
                    <h2>Dominations</h2>
                </div>
                <div class="numericalStat">
                    <h1 id="numericalStat_Revenges"></h1>
                    <h2>Revenges</h2>
                </div>
                <div class="numericalStat">
                    <h1 id="numericalStat_PointsScored"></h1>
                    <h2>Points Scored</h2>
                </div>
            </div>
            <h1>Class Stats</h1>
            <div class="class_icons">
                <img class = "class_stat_icon" id = "class_stat_Scout" src = "/class_icons/Scout.png">
                <img class = "class_stat_icon" id = "class_stat_Soldier" src = "/class_icons/Soldier.png">
                <img class = "class_stat_icon" id = "class_stat_Pyro" src = "/class_icons/Pyro.png">
                <img class = "class_stat_icon" id = "class_stat_Demoman" src = "/class_icons/Demoman.png">
                <img class = "class_stat_icon" id = "class_stat_Heavy" src = "/class_icons/Heavy.png">
                <img class = "class_stat_icon" id = "class_stat_Engineer" src = "/class_icons/Engineer.png">
                <img class = "class_stat_icon" id = "class_stat_Medic" src = "/class_icons/Medic.png">
                <img class = "class_stat_icon" id = "class_stat_Sniper" src = "/class_icons/Sniper.png">
                <img class = "class_stat_icon" id = "class_stat_Spy" src = "/class_icons/Spy.png">
            </div>
            <canvas id="classMaxChart" width="500" height="700"></canvas>
            <canvas id="classAccumChart" width="500" height="700" style="display:inline-block"></canvas>
            <h1>Map Stats</h1>
            <h1>MvM Stats</h1>
        </div>
    </div>
    <%- include("footer") %>
</body>
<script>
    window.playerStats = <%- typeof playerStats != 'undefined' ? JSON.stringify(playerStats) : 0 %>;
</script>
<script src="/script.js"></script>

</html>